FROM hayd/alpine-deno:latest

EXPOSE 3000

WORKDIR /usr/app

COPY ./deps.ts .
RUN deno cache deps.ts

COPY . .

CMD [ "test", "--unstable", "--allow-net", "--allow-env" "--allow-read" "tests/version.test.ts" ]